# Changelog

All notable changes to this project will be documented in this file.

## [0.5.10] - 2025-08-09

### âš™ï¸ Miscellaneous Tasks

- Upgrade to veilid-0.4.8

<!-- generated by git-cliff -->
## [0.5.9] - 2025-07-23

### ğŸ› Bug Fixes

- Docs.rs build for crates that depend on veilid-core

<!-- generated by git-cliff -->
## [0.5.8] - 2025-07-20

### ğŸ› Bug Fixes

- Gossip thrashing on node errors

<!-- generated by git-cliff -->
## [0.5.6] - 2025-07-13

### ğŸ› Bug Fixes

- Block peers which resolve a bad index
- Peer map key mismatch

### âš™ï¸ Miscellaneous Tasks

- Increase seeder test timeouts

<!-- generated by git-cliff -->
## [0.5.5] - 2025-07-12

### ğŸ› Bug Fixes

- Attribute blocks in invalid pieces to responsible peers
- Progress freezes during fetch
- Seeder test races

<!-- generated by git-cliff -->
## [0.5.4] - 2025-07-08

### ğŸš€ Features

- Persist and reload known peers

<!-- generated by git-cliff -->
## [0.5.3] - 2025-07-08

### ğŸš€ Features

- Ephemeral peer gossip

<!-- generated by git-cliff -->
## [0.5.2] - 2025-07-07

### ğŸ› Bug Fixes

- Fetcher done on verification complete
- Initial resolved shares, peer advertisement

### ğŸšœ Refactor

- Move peer discovery responsibilities to seeder

### âš™ï¸ Miscellaneous Tasks

- Use broadcast instead of flume for event subscription

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.5.0] - 2025-06-27

### ğŸš€ Features

- Havemap and peermap, scalable piece size.
- Trackers
- Implement have_map resolver
- Peer resolver
- Add peer announcer
- Add block_fetcher, target change broadcast from share_resolver
- Define announce peer message in protocol
- Add share_announcer
- Implement announcement of share, have and peer dht values
- Add ContentAddressable trait, use for Index digest
- Add fetcher_announcer example
- Operator concurrency with actor pools
- Proof-of-concept peer gossip in peer_announce example
- Add syncer option to set fetch concurrency, more public exports
- [**breaking**] Update main app to simultaneously seed while fetching
- Fetcher peer tracking
- Advertise peer and resolve discovered peers

### ğŸ› Bug Fixes

- Have map write_bytes method, add test
- Add serde tests for block request, peerinfo
- Max_peers in peer_announcer, align with subkeys in peer map
- Implement new seeder
- Subscribe to veilid updates in share_resolver ctor
- Implement Clone for more request/response types
- Connection coordination in WithVeilidConnection
- Improve seeder_announcer example
- Share_announcer reannounces on route change
- Cloneable peer_announcer response
- Peer and have map announcing, resolving
- Map share key on have and peer maps
- Syncer to support simultaneous seeding and fetching
- Enable watching connection state
- Make want_index_digest optional, fix broken cli app logic
- Actor runners
- Feed back block_fetcher error to runner
- Use tokio::sync::broadcast instead of flume
- Deal with unrecoverable errors intentionally
- Consistency in cancellation and fetcher done state
- Additional shutdown and cancellation improvements
- Tests
- Piece verifier tracking
- Separate fetch and verify status
- Fetcher error recovery, connection state
- Fetch reacts to disconnects

### ğŸšœ Refactor

- Reuse/rename chan_rpc, replace roaring bitmap
- Extract service trait out of several chan_rpc services
- Move chan_rpc services up a level
- Fetcher into chan_rpc services
- Rename verifier -> piece_verifier
- Fetcher
- Add announce peer request type, request union in proto
- [**breaking**] Fetcher and seeder based on chan rpc services
- Actor model
- Introduce runners, improve operator & chan abstractions, errors
- [**breaking**] Indicate block not found with none
- [**breaking**] Replace send/recv pattern with call/defer
- Abstraction over oneshot and flume channels

### ğŸ§ª Testing

- Have_announcer
- Improve stub peer to pass all method arguments to stub closures
- Have_resolver
- Coverage for peer_announcer
- Peer_resolver coverage
- New seeder
- Share_announcer coverage
- Fix block_fetcher tests to match error propagation

### âš™ï¸ Miscellaneous Tasks

- Cargo fmt
- Formatting
- Cargo fmt, skip generated code
- Rust fmt
- Organize chan_rpc service source files
- Move ctor to top of share_resolver
- Complete the rename from peer -> node
- Comment out broken peer_announcer, display share key when fetch complete
- Use clap for stigmerge-peer examples
- Rename peer to node in tests
- Turn down the log level to trace on detailed messages
- Turn down resp log to trace, keep fetch complete progress bar
- Also listen on ws and wss if configured
- Upgrade veilid-core to 0.4.6
- Remove tracing annotations, add error context instead
- Veilid node log messages at trace, improve cancel / shutdown
- Upgrade to veilid-core 0.4.7

### Wip

- Add have_announcer

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.4.0] - 2025-03-27

### ğŸ› Bug Fixes

- Android termux build
- Depend directly on deranged @ 0.4.0
- Move deranged patch to workspace config, downgrade time

### âš™ï¸ Miscellaneous Tasks

- Upgrade veilid-core to 0.4.4
- Remove unnecessary lockfile

<!-- generated by git-cliff -->
## [0.3.19] - 2025-02-22

### ğŸ› Bug Fixes

- Fetch hangs on complete file

<!-- generated by git-cliff -->
## [0.3.18] - 2025-02-20

### âš™ï¸ Miscellaneous Tasks

- Rendezvous on content digest via veilid dht
- Update cargo-dist

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.3.15] - 2024-10-25

### ğŸ› Bug Fixes

- Import FromStr from the right place

<!-- generated by git-cliff -->
## [0.3.14] - 2024-10-20

### âš™ï¸ Miscellaneous Tasks

- Upgrade veilid-core to 0.4.0, others
- Update to capnpc 0.20
- Veilid api updates

<!-- generated by git-cliff -->
## [0.3.13] - 2024-10-20

### âš™ï¸ Miscellaneous Tasks

- Update Cargo.toml dependencies

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.3.9] - 2024-08-03

### âš™ï¸ Miscellaneous Tasks

- Update Cargo.toml dependencies

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.3.7] - 2024-07-08

### âš™ï¸ Miscellaneous Tasks

- Update Cargo.toml dependencies

<!-- generated by git-cliff -->
## [0.3.6] - 2024-06-30

### ğŸš€ Features

- Calculate delta between have and want indexes, resume fetching

<!-- generated by git-cliff -->
## [0.3.5] - 2024-06-26

### ğŸ› Bug Fixes

- Node listen address port conflict
- Robust veilid operations with backoff retry

### âš™ï¸ Miscellaneous Tasks

- Enable and expose veilid node ports

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.3.1] - 2024-06-07

### ğŸ› Bug Fixes

- Improve fetch task coordination
- Backoff retry initial reset, seeder reset/reannounce

<!-- generated by git-cliff -->
## [0.3.0] - 2024-05-21

### ğŸš€ Features

- [**breaking**] Observability with progress watches

### ğŸ› Bug Fixes

- *(deps)* Update rust crate tokio-util to v0.7.11
- Fetcher cancellation

<!-- generated by git-cliff -->
## [0.2.0] - 2024-05-03

### ğŸ› Bug Fixes

- *(deps)* Update rust crate path-absolutize to 3.1.1
- *(deps)* Update rust crate tokio-util to 0.7.10

### ğŸšœ Refactor

- [**breaking**] Introduce peer abstraction, goal-seeking behavior

<!-- generated by git-cliff -->
## [0.1.11] - 2024-03-31

### ğŸ› Bug Fixes

- Reconnect seeder when network lost

<!-- generated by git-cliff -->
## [0.1.10] - 2024-03-29

### ğŸ› Bug Fixes

- Rust docs, veilid upgrade

<!-- generated by git-cliff -->
## [0.1.9] - 2024-03-28

### ğŸ› Bug Fixes

- Log scrolling in tui, fetch digest

<!-- generated by git-cliff -->
## [0.1.8] - 2024-03-25

### ğŸš€ Features

- Terminal ui

<!-- generated by git-cliff -->
## [0.1.7] - 2024-03-12

### ğŸš€ Features

- Concurrent verification of fetched pieces
- Concurrent verification of fetched pieces

<!-- generated by git-cliff -->
## [0.1.6] - 2024-03-08

### ğŸ› Bug Fixes

- Improve indexing performance with sha2 crate

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.1.3] - 2024-03-02

### ğŸš€ Features

- Concurrent fetch, default state dir

### ğŸ› Bug Fixes

- Default state dirs for cli, inter-crate deps
- Fetcher seek, seeder ignores non-shutdown errors

### âš™ï¸ Miscellaneous Tasks

- Rustfmt, instrument errors in refresh_header
- Remove unused import

<!-- generated by git-cliff -->
<!-- generated by git-cliff -->
## [0.1.1] - 2024-02-25

### ğŸš€ Features

- Add fileindex crate

### âš™ï¸ Miscellaneous Tasks

- Move veilid node to sub-crate
- Reorganize workspace & subcrates.
- Update stigmerge-peer dependency on fileindex
- Support same env build bypass as veilid-core

<!-- generated by git-cliff -->
